/**
 * Generated by `createservice billing.RegisterBillingReceiptFileService --type mutations`
 */

const { PaymentRule } = require('@condo/domains/acquiring/utils/testSchema')
const { permissionsCheckToObj } = require('@condo/domains/billing/utils/testSchema/permissionsCheck')
const {
    TestUtils,
    AcquiringTestMixin,
} = require('@condo/domains/billing/utils/testSchema/testUtils')

const PERMISSION_CHECK = {
    users: [ 'anonymous', 'user', 'employee', 'service.acquiring', 'support', 'admin'],
    create: [   '-',       '-',      '-',             '-',            '+',      '+'  ],
    read:   [   '-',       '-',      '-',             '-',            '+',      '+'  ],
    update: [   '-',       '-',      '-',             '-',            '+',      '+'  ],
}

describe('PaymentRule', () => {

    const utils = new TestUtils([AcquiringTestMixin])

    beforeAll(async () => {
        await utils.init()
    })

    describe('Permissions check', () => {
        test('CRUD', async () => {
            await permissionsCheckToObj(PERMISSION_CHECK, utils, {
                create: async () => Promise.resolve(),
                read: async () => Promise.resolve(),
                update: async () => Promise.resolve(),
            })
        })
    })
})