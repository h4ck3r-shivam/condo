/**
 * Generated by `createservice billing.RegisterBillingReceiptFileService --type mutations`
 */
const { readFileSync } = require('fs')

const { faker } = require('@faker-js/faker')
const dayjs = require('dayjs')

const { expectToThrowAccessDeniedErrorToObj, expectToThrowAuthenticationErrorToObj } = require('@open-condo/keystone/test.utils')

const { PaymentRule, addPaymentRuleSettings } = require('@condo/domains/acquiring/utils/testSchema')
const {
    TestUtils,
    ResidentTestMixin,
} = require('@condo/domains/billing/utils/testSchema/testUtils')


describe('RegisterBillingReceiptFileService', () => {

    const utils = new TestUtils([ResidentTestMixin])

    beforeAll(async () => {
        await utils.init()
    })

    beforeEach(async () => {
        const [activeRules] = await PaymentRule.getAll(utils.clients.admin, { context: { id: utils.acquringContext.id } })
        await Promise.all(activeRules.map(async activeRule => {
            await PaymentRule.softDelete(utils.clients.admin)
        }))
    })



})