// auto generated by kmigrator
// KMIGRATOR:0236_webhooksubscription_operations_and_more:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDQuMC41IG9uIDIwMjMtMDMtMTYgMTE6MjUKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAyMzVfb3JnYW5pemF0aW9ubmV3c2l0ZW1oaXN0b3J5cmVjb3JkX2FuZF9tb3JlJyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd3ZWJob29rc3Vic2NyaXB0aW9uJywKICAgICAgICAgICAgbmFtZT0nb3BlcmF0aW9ucycsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5KU09ORmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3dlYmhvb2tzdWJzY3JpcHRpb25oaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0nb3BlcmF0aW9ucycsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5KU09ORmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field operations to webhooksubscription
--
ALTER TABLE "WebhookSubscription" ADD COLUMN "operations" jsonb NULL;
--
-- Add field operations to webhooksubscriptionhistoryrecord
--
ALTER TABLE "WebhookSubscriptionHistoryRecord" ADD COLUMN "operations" jsonb NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field operations to webhooksubscriptionhistoryrecord
--
ALTER TABLE "WebhookSubscriptionHistoryRecord" DROP COLUMN "operations" CASCADE;
--
-- Add field operations to webhooksubscription
--
ALTER TABLE "WebhookSubscription" DROP COLUMN "operations" CASCADE;
COMMIT;

    `)
}
