// auto generated by kmigrator
// KMIGRATOR:0259_webhooksubscription_operation_and_more:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDQuMC41IG9uIDIwMjMtMDQtMTggMDc6NTkKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAyNThfbWVzc2FnZWFwcGJsYWNrbGlzdGhpc3RvcnlyZWNvcmRfbWVzc2FnZWFwcGJsYWNrbGlzdF9hbmRfbW9yZScpLAogICAgXQoKICAgIG9wZXJhdGlvbnMgPSBbCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nd2ViaG9va3N1YnNjcmlwdGlvbicsCiAgICAgICAgICAgIG5hbWU9J29wZXJhdGlvbicsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5DaGFyRmllbGQoYmxhbms9VHJ1ZSwgY2hvaWNlcz1bKCdjcmVhdGUnLCAnY3JlYXRlJyksICgndXBkYXRlJywgJ3VwZGF0ZScpLCAoJ2RlbGV0ZScsICdkZWxldGUnKV0sIG1heF9sZW5ndGg9NTAsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd3ZWJob29rc3Vic2NyaXB0aW9uaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J29wZXJhdGlvbicsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5UZXh0RmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field operation to webhooksubscription
--
ALTER TABLE "WebhookSubscription" ADD COLUMN "operation" varchar(50) NULL;
--
-- Add field operation to webhooksubscriptionhistoryrecord
--
ALTER TABLE "WebhookSubscriptionHistoryRecord" ADD COLUMN "operation" text NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field operation to webhooksubscriptionhistoryrecord
--
ALTER TABLE "WebhookSubscriptionHistoryRecord" DROP COLUMN "operation" CASCADE;
--
-- Add field operation to webhooksubscription
--
ALTER TABLE "WebhookSubscription" DROP COLUMN "operation" CASCADE;
COMMIT;

    `)
}
