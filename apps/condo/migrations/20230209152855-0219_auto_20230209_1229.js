// auto generated by kmigrator
// KMIGRATOR:0219_auto_20230209_1229:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi45IG9uIDIwMjMtMDItMDkgMTI6MjkKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAyMThfYWx0ZXJfYmFua2FjY291bnRfcHJvcGVydHknKSwKICAgIF0KCiAgICBvcGVyYXRpb25zID0gWwogICAgICAgIG1pZ3JhdGlvbnMuUmVtb3ZlRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2Jhbmt0cmFuc2FjdGlvbicsCiAgICAgICAgICAgIG5hbWU9J2RhdGVSZWNlaXZlZCcsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdiYW5rdHJhbnNhY3Rpb24nLAogICAgICAgICAgICBuYW1lPSdkYXRlV2l0aGRyYXdlZCcsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdiYW5rdHJhbnNhY3Rpb25oaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0nZGF0ZVJlY2VpdmVkJywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuUmVtb3ZlRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2Jhbmt0cmFuc2FjdGlvbmhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdkYXRlV2l0aGRyYXdlZCcsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdiYW5rdHJhbnNhY3Rpb24nLAogICAgICAgICAgICBuYW1lPSdpc091dGNvbWUnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuQm9vbGVhbkZpZWxkKGRlZmF1bHQ9VHJ1ZSksCiAgICAgICAgICAgIHByZXNlcnZlX2RlZmF1bHQ9RmFsc2UsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdiYW5rdHJhbnNhY3Rpb25oaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0naXNPdXRjb21lJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkJvb2xlYW5GaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICBdCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove field dateReceived from banktransaction
--
ALTER TABLE "BankTransaction" DROP COLUMN "dateReceived" CASCADE;
--
-- Remove field dateWithdrawed from banktransaction
--
ALTER TABLE "BankTransaction" DROP COLUMN "dateWithdrawed" CASCADE;
--
-- Remove field dateReceived from banktransactionhistoryrecord
--
ALTER TABLE "BankTransactionHistoryRecord" DROP COLUMN "dateReceived" CASCADE;
--
-- Remove field dateWithdrawed from banktransactionhistoryrecord
--
ALTER TABLE "BankTransactionHistoryRecord" DROP COLUMN "dateWithdrawed" CASCADE;
--
-- Add field isOutcome to banktransaction
--
ALTER TABLE "BankTransaction" ADD COLUMN "isOutcome" boolean DEFAULT true NOT NULL;
ALTER TABLE "BankTransaction" ALTER COLUMN "isOutcome" DROP DEFAULT;
--
-- Add field isOutcome to banktransactionhistoryrecord
--
ALTER TABLE "BankTransactionHistoryRecord" ADD COLUMN "isOutcome" boolean NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field isOutcome to banktransactionhistoryrecord
--
ALTER TABLE "BankTransactionHistoryRecord" DROP COLUMN "isOutcome" CASCADE;
--
-- Add field isOutcome to banktransaction
--
ALTER TABLE "BankTransaction" DROP COLUMN "isOutcome" CASCADE;
--
-- Remove field dateWithdrawed from banktransactionhistoryrecord
--
ALTER TABLE "BankTransactionHistoryRecord" ADD COLUMN "dateWithdrawed" date NULL;
--
-- Remove field dateReceived from banktransactionhistoryrecord
--
ALTER TABLE "BankTransactionHistoryRecord" ADD COLUMN "dateReceived" date NULL;
--
-- Remove field dateWithdrawed from banktransaction
--
ALTER TABLE "BankTransaction" ADD COLUMN "dateWithdrawed" date NULL;
--
-- Remove field dateReceived from banktransaction
--
ALTER TABLE "BankTransaction" ADD COLUMN "dateReceived" date NULL;
COMMIT;

    `)
}
